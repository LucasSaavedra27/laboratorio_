
{% extends 'base/base.html' %}
{% load static %}

{% block titulo %}Estadísticas de Ventas{% endblock %}

{% block contenido %}
<div class="contenedor-estadisticas {% comment %} mx-0 {% endcomment %}"> 
    <h2 class="text-center">Estadísticas de Ventas</h2>

    <!-- Formulario de selección de mes y año -->
    <div class="mb-4">
        <form method="post" action="{% url 'estadisticas:estadisticas_ventas' %}" class="m-2">
            {% csrf_token %}
            <div class="form-fecha">
                <div class="p-1">{{ form.mes }}</div>
                <div class="p-1">{{ form.anio }}</div>
                <button type="submit" class="btn btn-primary ml-2">Filtrar</button>   
            </div>    

        </form>
    </div>
    
</div>

    {% if mensaje %}
        <p class="text-center text-danger">{{ mensaje }}</p>
    {% else %}
    <div class="full-width-div">
        <div class="row">
            <!-- Gráfico de Ventas Totales por Empleado -->
            <div class="col-md-6 col-12 col-xl-4 p-3">
                <h3 class="text-center pb-4">Ventas Totales por Empleado</h3>
                <div class="chart-container">
                    {{ graph_empleado_html|safe }}
                </div>
            </div>
            
            <!-- Gráfico de Ventas Diarias por Mes -->
            <div class="col-md-6 col-12 col-xl-4 p-3">
                <h3 class="text-center pb-4">Ventas Diarias por Mes</h3>
                <div class="chart-container">
                    {{ graph_mes_html|safe }}
                </div>
            </div>

            <!-- Gráfico de Ventas por Categoría de Productos y Día del Mes -->
            <div class="col-md-6 col-12 col-xl-4 p-3">
                <h3 class="text-center pb-4">Ventas Diarias por Mes</h3>
                <div class="chart-container">
                    {{ graph_categorias_html|safe }}
                </div>
            </div>
        </div>
    </div>
    {% endif %}

{% endblock %}
