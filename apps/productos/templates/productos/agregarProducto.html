{% extends 'base/base.html' %}
{% load static %}

{% block contenido %}
    <div class="contenedor-agregarProd d-flex justify-content-center align-items-center">
        <div class="card-agregarProd" >
            <h3 class="text-center" style="color: #a63348;">Agregar un producto</h3>
            <form method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                {{ form.as_p }}
                <button type="submit" class="btn btn-addProd w-100 mt-3">Guardar Producto</button>
                <a href="{% url 'productos:productos' %}" class="btn btn-cancelProd w-100 mt-2">Cancelar</a>
            </form>
        </div>
    </div>
{% endblock %}

{% block js %}
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // deshabilitar fechas posteriores a la actual
            function deshabilitarFechasPasadas() {
                const fechaActual = new Date().toISOString().split("T")[0];
                
                // Selecciona solo el campo de fecha de elaboración y establece su valor máximo
                const campoFechaElaboracion = document.getElementById("id_fechaDeElaboracion");
                if (campoFechaElaboracion) {
                    campoFechaElaboracion.setAttribute("max", fechaActual);
                }
            }

            window.onload = deshabilitarFechasPasadas;

            
        });
    </script>
{% endblock %}

